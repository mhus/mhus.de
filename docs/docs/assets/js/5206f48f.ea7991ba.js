"use strict";(self.webpackChunkKT2L=self.webpackChunkKT2L||[]).push([[17],{1553:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>c});var t=i(5893),l=i(1151);const s={sidebar_position:3,title:"Dice Example Container"},r="Dice Example Container",a={id:"container-examples-suite/dice",title:"Dice Example Container",description:"This container is a simple example of a container that simulates rolling a dice. The container will output a random",source:"@site/docs/container-examples-suite/dice.md",sourceDirName:"container-examples-suite",slug:"/container-examples-suite/dice",permalink:"/docs/container-examples-suite/dice",draft:!1,unlisted:!1,editUrl:"https://github.com/mhus/mhus.de/blob/main/docs/container-examples-suite/dice.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,title:"Dice Example Container"},sidebar:"tutorialSidebar",previous:{title:"Countdown Example Container",permalink:"/docs/container-examples-suite/countdown"},next:{title:"Bash Example Container",permalink:"/docs/container-examples-suite/bash"}},o={},c=[{value:"Environment variables",id:"environment-variables",level:2},{value:"Running with docker",id:"running-with-docker",level:2},{value:"Running with kubernetes",id:"running-with-kubernetes",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"dice-example-container",children:"Dice Example Container"}),"\n",(0,t.jsx)(n.p,{children:"This container is a simple example of a container that simulates rolling a dice. The container will output a random\nnumber. The use case for this container is to demonstrate how to run for infinite time or a specific number of times.\nJobs can fail depending on the number of the result of the last roll."}),"\n",(0,t.jsx)(n.h2,{id:"environment-variables",children:"Environment variables"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"SIDES"}),": The number of sides on the dice. (default: 6)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"ROLLS"}),": The number of times to roll the dice. (default: 1)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"INFINITE"}),": If set to ",(0,t.jsx)(n.code,{children:"true"}),", the dice will roll forever. (default: false)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"SLEEP"}),": The duration between each roll in seconds. (default: 1)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"EXIT_ON"}),": The number that will cause the job to exit. (default: 0 - never)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"EXIT_MESSAGE"}),': The message to display when the job exits. Set to "-" to skip message. (default: "Bye!")']}),"\n",(0,t.jsx)(n.li,{children:"'FAIL_ON': The number that will cause the job to fail. (default: 0 - never)"}),"\n",(0,t.jsx)(n.li,{children:'\'FAIL_MESSAGE\': The message to display when the job fails. Set to "-" to skip message. (default: "Failed!")'}),"\n",(0,t.jsx)(n.li,{children:"'FAIL_EXIT_CODE': The exit code when the job fails. (default: 1)"}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"QUIET"}),": If set to ",(0,t.jsx)(n.code,{children:"true"}),", the dice will not output the result of each roll. (default: false)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"LOG_JSON"}),": If set to ",(0,t.jsx)(n.code,{children:"true"}),", the dice will output the result of each roll in JSON format. (default: false)"]}),"\n",(0,t.jsxs)(n.li,{children:["'LOG_COLOR': If set to ",(0,t.jsx)(n.code,{children:"true"}),", the dice will output the result of each roll in color. Ignored if ",(0,t.jsx)(n.code,{children:"LOG_JSON"})," is set. (default: false)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"TERMINATE_SLEEP"}),": The duration to sleep before terminating the job. (default: 0)"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"running-with-docker",children:"Running with docker"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"docker run --rm -e SLEEP=1 -e ROLLS=1 -e SIDES=6 mhus/example-dice:latest \n"})}),"\n",(0,t.jsx)(n.h2,{id:"running-with-kubernetes",children:"Running with kubernetes"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'kubectl run dice --image=mhus/example-dice:latest --env="SLEEP=1" --env="ROLLS=1" --env="SIDES=6" --restart=Never\n'})})]})}function h(e={}){const{wrapper:n}={...(0,l.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);